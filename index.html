<!DOCTYPE html>
<html ng-app="ticTacToe">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="index.css" />
    <script type="text/javascript">
      $(window).on("load", function () {
        $("#myModalW").modal("show");
      });
    </script>
    <script src="index.js"></script>
  </head>

  <body>
    <p id="heading">Tic - Tac - Toe</p>
    <div id="board" ng-controller="mainController">
      <svg ng-show="row0">
        <line x1="-100" y1="1" x2="350" y2="1">
    </svg>
    <svg ng-show="row1">
        <line x1="0" y1="120" x2="350" y2="120">
    </svg>
    <svg ng-show="row2">
        <line x1="0" y1="240" x2="350" y2="240">
    </svg>

    <!-- COLUMNS -->
    <svg ng-show="col0">
        <line x1="55" y1="0" x2="55" y2="270">
    </svg>
    <svg ng-show="col1">
        <line x1="175" y1="0" x2="175" y2="270">
    </svg>
    <svg ng-show="col2">
        <line x1="298" y1="0" x2="298" y2="270">
    </svg>

    <!-- DIAGONALS -->
    <svg ng-show="diag1">
        <line x1="55" y1="0" x2="326" y2="275">
    </svg>
    <svg ng-show="diag2">
        <line x1="295" y1="0" x2="4" y2="285">
    </svg>
      <div>
        <!-- Winning Modal -->
        <div id="myModal" class="modal fade" role="dialog">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">
                  Congratulations !
                  <button type="button" class="close" data-dismiss="modal">
                    ×
                  </button>
                </h4>
              </div>
              <div class="modal-body">
                <p class="text-center">Player-{{won}} won the game</p>
                <h3 class="text-center">Game Over</h3>
              </div>
              <div class="modal-footer">
                <p class="text-center">Hit reset to play again !</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Tie Modal -->
        <div id="myModalT" class="modal fade" role="dialog">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">
                  Well Played
                  <button type="button" class="close" data-dismiss="modal">
                    ×
                  </button>
                </h4>
              </div>
              <div class="modal-body">
                <p class="text-center">{{won}}</p>
                <h3 class="text-center">Game Over</h3>
              </div>
              <div class="modal-footer">
                <p class="text-center">Hit reset to play again !</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Welcome Modal -->
        <div id="myModalW" class="modal fade" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 style="font-size: 60px" class="modal-title">
                  Game Rules:
                  <button type="button" class="close" data-dismiss="modal">
                    ×
                  </button>
                </h4>
              </div>
              <div class="modal-body">
                <p><b>1.</b>Player with X turn comes first.</p>
                <p><b>2.</b>Player with O turn comes second.</p>
                <p>
                  <b>3.</b>Player with X or O with three consecutive X or O in
                  row/column/diagonal direction wins.
                </p>
                <p>
                  <b>4.</b>If no consecutive pattern is formed and board is
                  filled with X and O then its a Tie
                </p>
                <p><b>5.</b>Hit reset to play again !</p>
              </div>
              <div class="modal-footer">
                <p style="font-size: 34px" class="text-center">
                  Enjoy the game.
                </p>
                <button
                  class="btn btn-lg btn-danger"
                  id="playGame"
                  ng-click="playgame()"
                >
                  PLAY
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <table ng-class="[lineThrough]">
        <tr>
          <td id="box1" ng-style="boxStyle" ng-click="nextPlay(0,0)">
            <p class="marking">{{box[0]}}</p>
          </td>
          <td id="box2" ng-style="boxStyle" ng-click="nextPlay(0,1)">
            <p class="marking">{{box[1]}}</p>
          </td>
          <td id="box3" ng-style="boxStyle" ng-click="nextPlay(0,2)">
            <p class="marking">{{box[2]}}</p>
          </td>
        </tr>
        <tr>
          <td id="box4" ng-style="boxStyle" ng-click="nextPlay(1,0)">
            <p class="marking">{{box[3]}}</p>
          </td>
          <td id="box5" ng-style="boxStyle" ng-click="nextPlay(1,1)">
            <p class="marking">{{box[4]}}</p>
          </td>
          <td id="box6" ng-style="boxStyle" ng-click="nextPlay(1,2)">
            <p class="marking">{{box[5]}}</p>
          </td>
        </tr>
        <tr>
          <td id="box7" ng-style="boxStyle" ng-click="nextPlay(2,0)">
            <p class="marking">{{box[6]}}</p>
          </td>
          <td id="box8" ng-style="boxStyle" ng-click="nextPlay(2,1)">
            <p class="marking">{{box[7]}}</p>
          </td>
          <td id="box9" ng-style="boxStyle" ng-click="nextPlay(2,2)">
            <p class="marking">{{box[8]}}</p>
          </td>
        </tr>
      </table>
      <!-- Reset Button -->
      <button
        type="button"
        class="btn btn-lg btn-info"
        id="reset-btn"
        ng-click="reset()"
      >
        Reset
      </button>
    </div>
  </body>
</html>
